---
description: "åŸºç¤é–‹ç™¼è¦ç¯„ - æ‰€æœ‰ç¨‹å¼ç¢¼å¿…é ˆéµå¾ª"
type: "Auto Attached"
pattern: "**/*.{js,jsx,ts,tsx,html,css,json}"
version: "1.0.0"
author: "s123104"
last_updated: "2025-08-16T18:22:20+08:00"
---

# Click Fun åŸºç¤é–‹ç™¼è¦ç¯„

## ğŸ¯ å°ˆæ¡ˆæ¦‚è¿°

**Click Fun** æ˜¯ä¸€å€‹ç¾ä»£åŒ–çš„ PWA é»æ“Šç«¶æŠ€éŠæˆ²ï¼Œæ¡ç”¨ä¼æ¥­ç´šé–‹ç™¼æ¨™æº–å’Œæœ€ä½³å¯¦è¸ã€‚

## ğŸ“‹ ç¨‹å¼ç¢¼å“è³ªè¦æ±‚

### å‹åˆ¥å®‰å…¨

- JavaScript å°ˆæ¡ˆå¿…é ˆä½¿ç”¨åš´æ ¼æ¨¡å¼ (`"use strict"`)
- æ‰€æœ‰å‡½æ•¸å¿…é ˆåŒ…å« JSDoc è¨»è§£èªªæ˜åƒæ•¸å’Œè¿”å›å€¼
- é¿å…ä½¿ç”¨ `var`ï¼Œå„ªå…ˆä½¿ç”¨ `const`ï¼Œå¿…è¦æ™‚ä½¿ç”¨ `let`

### å‘½åè¦ç¯„

```javascript
// âœ… æ­£ç¢ºç¤ºä¾‹
const GAME_DURATION = 30; // å¸¸æ•¸ä½¿ç”¨ UPPER_SNAKE_CASE
const gameState = {}; // è®Šæ•¸ä½¿ç”¨ camelCase
class GameManager {} // é¡åˆ¥ä½¿ç”¨ PascalCase
function calculateScore() {} // å‡½æ•¸ä½¿ç”¨ camelCase

// âŒ éŒ¯èª¤ç¤ºä¾‹
const game_duration = 30; // ä¸ä½¿ç”¨ snake_case
const GameState = {}; // è®Šæ•¸ä¸ä½¿ç”¨ PascalCase
```

### éŒ¯èª¤è™•ç†

```javascript
// âœ… ä½¿ç”¨ guard clauses é€²è¡Œæ—©æœŸè¿”å›
function processClick(event) {
  if (!event) return;
  if (!event.target) return;
  if (gameState.isGameOver) return;
  
  // ä¸»è¦é‚è¼¯
  updateScore(event);
}

// âŒ é¿å…æ·±å±¤å·¢ç‹€
function processClick(event) {
  if (event) {
    if (event.target) {
      if (!gameState.isGameOver) {
        updateScore(event);
      }
    }
  }
}
```

### æ•ˆèƒ½è€ƒé‡

- é¿å…åœ¨è¿´åœˆä¸­é€²è¡Œ DOM æŸ¥è©¢
- ä½¿ç”¨ `requestAnimationFrame` é€²è¡Œå‹•ç•«
- å¯¦ä½œå¿…è¦çš„å¿«å–æ©Ÿåˆ¶
- ä½¿ç”¨ Web Workers è™•ç†è¤‡é›œé‹ç®—

## ğŸ® éŠæˆ²ç‰¹å®šè¦ç¯„

### HTML çµæ§‹

- æ‰€æœ‰éŠæˆ²å…ƒç´ å¿…é ˆä½¿ç”¨èªç¾©åŒ–æ¨™ç±¤
- å¿…é ˆåŒ…å«é©ç•¶çš„ ARIA æ¨™ç±¤ä»¥æ”¯æ´ç„¡éšœç¤™æ€§
- æ‰€æœ‰æŒ‰éˆ•å¿…é ˆåŒ…å« `role` å’Œ `aria-label` å±¬æ€§

### CSS è¦ç¯„

```css
/* âœ… ä½¿ç”¨ CSS è‡ªå®šç¾©å±¬æ€§ */
:root {
  --primary-color: #f66fb9;
  --secondary-color: #52b7ff;
  --animation-duration: 150ms;
}

/* âœ… ä½¿ç”¨ BEM å‘½åæ–¹å¼ */
.game-button {}
.game-button--primary {}
.game-button__text {}
```

### JavaScript è¦ç¯„

```javascript
// âœ… ä½¿ç”¨ç¾ä»£ ES6+ èªæ³•
const GameState = {
  score: 0,
  isPlaying: false,
  
  // ä½¿ç”¨ç®­é ­å‡½æ•¸ä¿æŒ this ç¶å®š
  updateScore: (points) => {
    GameState.score += points;
  },
  
  // ä½¿ç”¨è§£æ§‹è³¦å€¼
  reset() {
    const { score, isPlaying, ...otherProps } = this;
    return { score: 0, isPlaying: false, ...otherProps };
  }
};
```

## ğŸ”’ å®‰å…¨æ€§è¦æ±‚

### è³‡æ–™é©—è­‰

```javascript
// âœ… è¼¸å…¥é©—è­‰
function saveScore(score) {
  if (typeof score !== 'number') {
    throw new Error('åˆ†æ•¸å¿…é ˆæ˜¯æ•¸å­—');
  }
  if (score < 0) {
    throw new Error('åˆ†æ•¸ä¸èƒ½ç‚ºè² æ•¸');
  }
  if (score > 10000) {
    console.warn('åˆ†æ•¸ç•°å¸¸é«˜ï¼Œè«‹æª¢æŸ¥');
  }
  
  localStorage.setItem('highScore', score.toString());
}
```

### localStorage å®‰å…¨

- æ‰€æœ‰å„²å­˜çš„è³‡æ–™å¿…é ˆç¶“éé©—è­‰
- æ•æ„Ÿè³‡è¨Šä¸å¾—å„²å­˜åœ¨ localStorage
- å¯¦ä½œè³‡æ–™ç‰ˆæœ¬æ§åˆ¶æ©Ÿåˆ¶

## ğŸ“± PWA è¦æ±‚

### Service Worker

- å¿…é ˆå¯¦ä½œå¿«å–ç­–ç•¥
- å¿…é ˆè™•ç†é›¢ç·šå ´æ™¯
- å¿…é ˆåŒ…å«ç‰ˆæœ¬ç®¡ç†æ©Ÿåˆ¶

```javascript
// âœ… Service Worker ç‰ˆæœ¬ç®¡ç†
const CACHE_VERSION = 'v7.1.1';
const CACHE_NAME = `clickfun-${CACHE_VERSION}`;
```

### Web Manifest

- å¿…é ˆåŒ…å«æ‰€æœ‰å¿…è¦çš„åœ–æ¨™å°ºå¯¸
- å¿…é ˆè¨­å®šé©ç•¶çš„é¡¯ç¤ºæ¨¡å¼
- å¿…é ˆåŒ…å«ç‰ˆæœ¬è³‡è¨Š

## ğŸ§ª æ¸¬è©¦è¦æ±‚

### å–®å…ƒæ¸¬è©¦

```javascript
// âœ… æ¸¬è©¦çµæ§‹
describe('GameManager', () => {
  beforeEach(() => {
    // é‡è¨­éŠæˆ²ç‹€æ…‹
  });
  
  test('æ‡‰è©²æ­£ç¢ºè¨ˆç®—åˆ†æ•¸', () => {
    // Given
    const initialScore = 0;
    
    // When
    const newScore = calculateScore(5);
    
    // Then
    expect(newScore).toBe(5);
  });
});
```

### è¦†è“‹ç‡è¦æ±‚

- å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡ï¼šâ‰¥ 80%
- é—œéµåŠŸèƒ½æ¸¬è©¦è¦†è“‹ç‡ï¼š100%
- æ‰€æœ‰ API ç«¯é»å¿…é ˆæœ‰æ¸¬è©¦

## ğŸ“ æ–‡æª”è¦æ±‚

### JSDoc è¨»è§£

```javascript
/**
 * è¨ˆç®—éŠæˆ²åˆ†æ•¸
 * @param {number} clicks - é»æ“Šæ¬¡æ•¸
 * @param {number} duration - éŠæˆ²æ™‚é–“ï¼ˆç§’ï¼‰
 * @param {number} multiplier - åˆ†æ•¸å€æ•¸
 * @returns {number} è¨ˆç®—å¾Œçš„åˆ†æ•¸
 * @example
 * const score = calculateScore(100, 30, 1.5);
 * console.log(score); // 150
 */
function calculateScore(clicks, duration, multiplier = 1) {
  return Math.floor((clicks / duration) * multiplier);
}
```

### README æ›´æ–°

- æ¯æ¬¡åŠŸèƒ½è®Šæ›´å¿…é ˆæ›´æ–° README.md
- å¿…é ˆåŒ…å«å®‰è£å’Œä½¿ç”¨èªªæ˜
- å¿…é ˆåŒ…å« API æ–‡æª”é€£çµ

## ğŸš« ç¦æ­¢äº‹é …

### çµ•å°ç¦æ­¢

- âŒ ç¦æ­¢ä½¿ç”¨ `console.log` é€²å…¥ç”Ÿç”¢ç’°å¢ƒ
- âŒ ç¦æ­¢ç¡¬ç·¨ç¢¼ API é‡‘é‘°æˆ–æ•æ„Ÿè³‡è¨Š
- âŒ ç¦æ­¢ç•¥é ESLint æª¢æŸ¥ (`eslint-disable`)
- âŒ ç¦æ­¢æäº¤æœªå®Œæˆçš„ TODO è¨»è§£
- âŒ ç¦æ­¢ä½¿ç”¨éæ™‚çš„ API (å¦‚ `document.write`)

### ç¨‹å¼ç¢¼é¢¨æ ¼

- âŒ ä¸ä½¿ç”¨ `==`ï¼Œä¸€å¾‹ä½¿ç”¨ `===`
- âŒ ä¸ä½¿ç”¨å…¨åŸŸè®Šæ•¸
- âŒ ä¸åœ¨è¿´åœˆä¸­ä½¿ç”¨ `try-catch`
- âŒ ä¸ä½¿ç”¨ `eval()` æˆ– `new Function()`

## âš¡ æ•ˆèƒ½æœ€ä½³åŒ–

### é—œéµæŒ‡æ¨™

- é¦–æ¬¡å…§å®¹ç¹ªè£½ (FCP): < 2.5s
- æœ€å¤§å…§å®¹ç¹ªè£½ (LCP): < 2.5s
- é¦–æ¬¡è¼¸å…¥å»¶é² (FID): < 100ms
- ç´¯ç©ç‰ˆé¢é…ç½®ç§»ä½ (CLS): < 0.1

### å¯¦ä½œè¦æ±‚

```javascript
// âœ… ä½¿ç”¨ requestAnimationFrame
function updateAnimation() {
  requestAnimationFrame(() => {
    // å‹•ç•«é‚è¼¯
    updateAnimation();
  });
}

// âœ… ä½¿ç”¨ Web Workers è™•ç†è¤‡é›œé‹ç®—
const worker = new Worker('fx.worker.js');
worker.postMessage({ type: 'CALCULATE_EFFECTS', data: effectsData });
```

## ğŸ”„ ç‰ˆæœ¬æ§åˆ¶

### Commit è¨Šæ¯æ ¼å¼

```
type(scope): description

feat(game): æ–°å¢é›™äººå°æˆ°æ¨¡å¼
fix(audio): ä¿®å¾©éŸ³æ•ˆå»¶é²å•é¡Œ
docs(readme): æ›´æ–°å®‰è£èªªæ˜
style(css): èª¿æ•´æŒ‰éˆ•æ¨£å¼
refactor(storage): é‡æ§‹è³‡æ–™å„²å­˜é‚è¼¯
test(unit): æ–°å¢åˆ†æ•¸è¨ˆç®—æ¸¬è©¦
chore(deps): æ›´æ–°ä¾è³´å¥—ä»¶ç‰ˆæœ¬
```

### åˆ†æ”¯ç­–ç•¥

- `main`: ç©©å®šç™¼å¸ƒåˆ†æ”¯
- `develop`: é–‹ç™¼æ•´åˆåˆ†æ”¯
- `feature/*`: åŠŸèƒ½é–‹ç™¼åˆ†æ”¯
- `fix/*`: éŒ¯èª¤ä¿®å¾©åˆ†æ”¯

---

**ğŸ“… æœ€å¾Œæ›´æ–°**: 2025-08-16T18:22:20+08:00  
**ğŸ“‹ ç‰ˆæœ¬**: v1.0.0  
**ğŸ‘¤ ç¶­è­·è€…**: s123104